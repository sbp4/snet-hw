# Домашнее задание к занятию "4.10. DHCP, PXE"

---

### Задание 1. 

Для чего служит протокол `DHCP`? 

Может ли работать сеть без `DHCP-сервера`?

*Приведите ответ в свободной форме.*

***Ответ:***

Название протокола DHCP (Dynamic Host Configuration Protocol) дословно расшифровывается как «Протокол динамической конфигурации хоста».
Данный протокол работает на прикладном уровне модели OSI и позволяет сетевым устройствам автоматически получать ряд настроек (в том числе и IP-адрес) от расположенного в сети DHCP-сервера.

Сеть без проблем может работать без `DHCP-сервера`. Его придумали для того, чтобы упростить и, по сути, автоматизировать добавление новых устройств в сеть.

---

### Задание 2. 

На каком порту/портах работает `DHCP`? 

*Приведите ответ в свободной форме.*

***Ответ:***

`DHCP` работает на 67/68 портах транспортного протокола UDP. При отправке сообщения с клиента на сервер используется 67-й порт DHCP-сервера, при передаче в обратном направлении - 68-й порт клиента. Использование этих портов, кстати, обеспечивает обратную совместимость с протоколом BOOTP. Кроме этого, DHCPv6 работает на 546/547 портах транспортного протокола UDP.

---

### Задание 3. 

Какие настройки можно произвести используя опции? 

Назовите 5.

*Приведите ответ в свободной форме.*

***Ответ:***

Параметры, запрашиваемые клиентом и отправляемые DHCP-сервером для получения клиентом полноценного доступа к сетевым ресурсам, называются DHCP опции. Список DHCP опций описан в RFC 2132. Каждая опция имеет уникальный код от 0 до 255. Поле опций в DHCP пакете всегда должно заканчиваться опцией с кодом 255. По этой опции устройства понимают, что это конец, больше опций не будет, да и сам DHCP пакет на этом закончился.

Самые основные опции:

1 - маска подсети, из которой получен адрес
3 - список IP-адресов шлюзов по умолчанию (может передаваться один или несколько адресов)
6 - список IP-адресов серверов  DNS (может передаваться один или несколько адресов)
12 - имя хоста клиента
15 - имя домена DNS по умолчанию
44 - cписок IP-адресов серверов NetBIOS (WINS) (может передаваться один или несколько адресов)
255 - эта опция используется сервером и клиентом DHCP для указания на конец списка опций.

---

### Задание 4. 

Сконфигурируйте сервер `DHCP`.

*Пришлите получившийся конфигурационный файл.*

***Ответ:***

-------------------------------------------------------

***dhcpd.conf***

option domain-name "netology.local";

option domain-name-servers 178.21.0.3, 178.21.0.5;

default-lease-time 3600;

max-lease-time 7200;

authoritative;

subnet 178.21.0.0 netmask 255.255.255.0 {

          option routers 178.21.0.1;

          option subnet-mask 255.255.255.0;

          option domain-search "netology.local";

          option domain-name-servers 178.21.0.3;

          range 178.21.0.10 178.21.0.100;

          range 178.21.0.110 178.21.0.200;

}

-------------------------------------------------------

## Дополнительные задания (со звездочкой*)
Эти задания дополнительные (не обязательные к выполнению) и никак не повлияют на получение вами зачета по этому домашнему заданию. Вы можете их выполнить, если хотите глубже и/или шире разобраться в материале.


### Задание 5. 

Поймайте в сети пакеты `DHCP` любым сниффером. 

*Пришлите скриншот пойманого одного пакета с объяснением что это за пакет, какой шаг получения сетевых настроек.*

***Ответ:***



---

### Задание 6. 

Сконфигурируйте сервер `PXE`, выложите любой образ. 

*Пришлите скриншот клиента, который получил настройки и подключился к `PXE-серверу`.*

***Ответ:***

